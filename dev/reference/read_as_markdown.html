<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Convert files to Markdown — read_as_markdown • ragnar</title><!-- favicons --><link rel="icon" type="image/png" sizes="96x96" href="../favicon-96x96.png"><link rel="icon" type="”image/svg+xml”" href="../favicon.svg"><link rel="apple-touch-icon" sizes="180x180" href="../apple-touch-icon.png"><link rel="icon" sizes="any" href="../favicon.ico"><link rel="manifest" href="../site.webmanifest"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/Source_Sans_Pro-0.4.10/font.css" rel="stylesheet"><link href="../deps/Source_Code_Pro-0.4.10/font.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Convert files to Markdown — read_as_markdown"><meta name="description" content="Convert files to Markdown"><meta property="og:description" content="Convert files to Markdown"><meta property="og:image" content="https://ragnar.tidyverse.org/logo.png"><meta name="robots" content="noindex"><script defer data-domain="ragnar.tidyverse.org,all.tidyverse.org" src="https://plausible.io/js/plausible.js"></script></head><body>
    <a href="#container" class="visually-hidden-focusable">Skip to content</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-none" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">ragnar</a>

    <small class="nav-text text-danger me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="In-development version">0.2.1.9000</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../articles/ragnar.html">Get started</a></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/tidyverse/ragnar/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic" id="container">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Convert files to Markdown</h1>
      <small class="dont-index">Source: <a href="https://github.com/tidyverse/ragnar/blob/main/R/read-markdown.R" class="external-link"><code>R/read-markdown.R</code></a></small>
      <div class="d-none name"><code>read_as_markdown.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Convert files to Markdown</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">read_as_markdown</span><span class="op">(</span></span>
<span>  <span class="va">path</span>,</span>
<span>  <span class="va">...</span>,</span>
<span>  origin <span class="op">=</span> <span class="va">path</span>,</span>
<span>  html_extract_selectors <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"main"</span><span class="op">)</span>,</span>
<span>  html_zap_selectors <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"nav"</span><span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-path">path<a class="anchor" aria-label="anchor" href="#arg-path"></a></dt>
<dd><p>[string] A filepath or URL. Accepts a wide variety of file
types, including plain text (markdown), PDF, PowerPoint, Word, Excel,
images (EXIF metadata and OCR), audio (EXIF metadata and speech
transcription), HTML, text-based formats (CSV, JSON, XML), ZIP files
(iterates over contents), YouTube URLs, and EPUBs.</p></dd>


<dt id="arg--">...<a class="anchor" aria-label="anchor" href="#arg--"></a></dt>
<dd><p>Passed on to <code>MarkItDown.convert()</code>.</p></dd>


<dt id="arg-origin">origin<a class="anchor" aria-label="anchor" href="#arg-origin"></a></dt>
<dd><p>The value to use for the <code>@origin</code> property of the returned
<code>MarkdownDocument</code>.</p></dd>


<dt id="arg-html-extract-selectors">html_extract_selectors<a class="anchor" aria-label="anchor" href="#arg-html-extract-selectors"></a></dt>
<dd><p>Character vector of CSS selectors. If a match
for a selector is found in the document, only the matched node's contents
are converted. Unmatched extract selectors have no effect.</p></dd>


<dt id="arg-html-zap-selectors">html_zap_selectors<a class="anchor" aria-label="anchor" href="#arg-html-zap-selectors"></a></dt>
<dd><p>Character vector of CSS selectors. Elements
matching these selectors will be excluded ("zapped") from the HTML document
before conversion to markdown. This is useful for removing navigation bars,
sidebars, headers, footers, or other unwanted elements. By default,
navigation elements (<code>nav</code>) are excluded.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>A <code><a href="MarkdownDocument.html">MarkdownDocument</a></code> object, which is a single string of Markdown
with an <code>@origin</code> property.</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>

<div class="section">
<h3 id="converting-html">Converting HTML<a class="anchor" aria-label="anchor" href="#converting-html"></a></h3>


<p>When converting HTML, you might want to omit certain elements, like sidebars,
headers, footers, etc. You can pass CSS selector strings to either extract
nodes or exclude nodes during conversion.</p>
<p>The easiest way to make selectors is to use SelectorGadget:
<a href="https://rvest.tidyverse.org/articles/selectorgadget.html" class="external-link">https://rvest.tidyverse.org/articles/selectorgadget.html</a></p>
<p>You can also right-click on a page and select "Inspect Element" in a browser
to better understand an HTML page's structure.</p>
<p>For comprehensive or advanced usage of CSS selectors, consult
<a href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#css-selectors-through-the-css-property" class="external-link">https://www.crummy.com/software/BeautifulSoup/bs4/doc/#css-selectors-through-the-css-property</a>
and <a href="https://facelessuser.github.io/soupsieve/selectors/" class="external-link">https://facelessuser.github.io/soupsieve/selectors/</a></p>
</div>

    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co"># \dontrun{</span></span></span>
<span class="r-in"><span><span class="co"># Convert HTML</span></span></span>
<span class="r-in"><span><span class="va">md</span> <span class="op">&lt;-</span> <span class="fu">read_as_markdown</span><span class="op">(</span><span class="st">"https://r4ds.hadley.nz/base-R.html"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">md</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> &lt;ragnar::MarkdownDocument&gt; chr "# 27  A field guide to base R – R for Data Science (2e)\n\n# 27  A field guide to base R\n\n## 27.1 Introductio"| __truncated__</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  @ origin: chr "https://r4ds.hadley.nz/base-R.html"</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">cat_head</span> <span class="op">&lt;-</span> \<span class="op">(</span><span class="va">md</span>, <span class="va">n</span> <span class="op">=</span> <span class="fl">10</span><span class="op">)</span> <span class="fu"><a href="https://rdrr.io/r/base/writeLines.html" class="external-link">writeLines</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/strsplit.html" class="external-link">strsplit</a></span><span class="op">(</span><span class="va">md</span>, <span class="st">"\n"</span><span class="op">)</span><span class="op">[[</span><span class="fl">1L</span><span class="op">]</span><span class="op">]</span>, <span class="va">n</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">cat_head</span><span class="op">(</span><span class="va">md</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> # 27  A field guide to base R – R for Data Science (2e)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> # 27  A field guide to base R</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ## 27.1 Introduction</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> To finish off the programming section, we’re going to give you a quick tour of the most important base R functions that we don’t otherwise discuss in the book. These tools are particularly useful as you do more programming and will help you read code you’ll encounter in the wild.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> This is a good place to remind you that the tidyverse is not the only way to solve data science problems. We teach the tidyverse in this book because tidyverse packages share a common design philosophy, increasing the consistency across functions, and making each new function or package a little easier to learn and use. It’s not possible to use the tidyverse without using base R, so we’ve actually already taught you a **lot** of base R functions: from `[library()](https://rdrr.io/r/base/library.html)` to load packages, to `[sum()](https://rdrr.io/r/base/sum.html)` and `[mean()](https://rdrr.io/r/base/mean.html)` for numeric summaries, to the factor, date, and POSIXct data types, and of course all the basic operators like `+`, `-`, `/`, `*`, `|`, `&amp;`, and `!`. What we haven’t focused on so far is base R workflows, so we will highlight a few of those in this chapter.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## Using selector strings</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># By default, this output includes the sidebar and other navigational elements</span></span></span>
<span class="r-in"><span><span class="va">url</span> <span class="op">&lt;-</span> <span class="st">"https://duckdb.org/code_of_conduct"</span></span></span>
<span class="r-in"><span><span class="fu">read_as_markdown</span><span class="op">(</span><span class="va">url</span><span class="op">)</span> <span class="op">|&gt;</span> <span class="fu">cat_head</span><span class="op">(</span><span class="fl">15</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> # Code of Conduct – DuckDB</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Search Shortcut cmd + k | ctrl + k</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> # Code of Conduct</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> **All creatures are welcome**: We aim to create a safe space for all community members, regardless of their age, race, gender, sexual orientation, physical appearance or disability, choice of text editor, or any other qualities by which living beings can be discriminated.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> **Be excellent to each other**: We do not tolerate verbal or physical harassment, violence or intimidation.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> We do not tolerate life forms who refuse to share this openness and respect towards others: Creatures that are not excellent to others are not welcome.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> We continuously strive to make our community a better place for everyone – in the best tradition of hackers we "build, test, improve, reiterate". In this ongoing adventure, we rely on the support, courage, and creativity of all members of the DuckDB community.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> If you are made uncomfortable in your role as DuckDB community member, please let us know: You can reach us at [[email protected]](/cdn-cgi/l/email-protection#06777367656d466273656d626428697461). All complaints will be reviewed and investigated and will result in a response that is deemed necessary and appropriate to the circumstances. The project team is obligated to maintain confidentiality with regard to the reporter of an incident.</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># To extract just the main content, use a selector</span></span></span>
<span class="r-in"><span><span class="fu">read_as_markdown</span><span class="op">(</span><span class="va">url</span>, html_extract_selectors <span class="op">=</span> <span class="st">"#main_content_wrap"</span><span class="op">)</span> <span class="op">|&gt;</span></span></span>
<span class="r-in"><span>  <span class="fu">cat_head</span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> # Code of Conduct – DuckDB</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> # Code of Conduct</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> **All creatures are welcome**: We aim to create a safe space for all community members, regardless of their age, race, gender, sexual orientation, physical appearance or disability, choice of text editor, or any other qualities by which living beings can be discriminated.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> **Be excellent to each other**: We do not tolerate verbal or physical harassment, violence or intimidation.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> We do not tolerate life forms who refuse to share this openness and respect towards others: Creatures that are not excellent to others are not welcome.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Alternative approach: zap unwanted nodes</span></span></span>
<span class="r-in"><span><span class="fu">read_as_markdown</span><span class="op">(</span></span></span>
<span class="r-in"><span>  <span class="va">url</span>,</span></span>
<span class="r-in"><span>  html_zap_selectors <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>    <span class="st">"header"</span>,          <span class="co"># name</span></span></span>
<span class="r-in"><span>    <span class="st">".sidenavigation"</span>, <span class="co"># class</span></span></span>
<span class="r-in"><span>    <span class="st">".searchoverlay"</span>,  <span class="co"># class</span></span></span>
<span class="r-in"><span>    <span class="st">"#sidebar"</span>         <span class="co"># ID</span></span></span>
<span class="r-in"><span>  <span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">)</span> <span class="op">|&gt;</span> <span class="fu">cat_head</span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> # Code of Conduct – DuckDB</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> # Code of Conduct</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> **All creatures are welcome**: We aim to create a safe space for all community members, regardless of their age, race, gender, sexual orientation, physical appearance or disability, choice of text editor, or any other qualities by which living beings can be discriminated.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> **Be excellent to each other**: We do not tolerate verbal or physical harassment, violence or intimidation.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> We do not tolerate life forms who refuse to share this openness and respect towards others: Creatures that are not excellent to others are not welcome.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Quarto example</span></span></span>
<span class="r-in"><span><span class="fu">read_as_markdown</span><span class="op">(</span></span></span>
<span class="r-in"><span>  <span class="st">"https://quarto.org/docs/computations/python.html"</span>,</span></span>
<span class="r-in"><span>  html_extract_selectors <span class="op">=</span> <span class="st">"main"</span>,</span></span>
<span class="r-in"><span>  html_zap_selectors <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>    <span class="st">"#quarto-sidebar"</span>,</span></span>
<span class="r-in"><span>    <span class="st">"#quarto-margin-sidebar"</span>,</span></span>
<span class="r-in"><span>    <span class="st">"header"</span>,</span></span>
<span class="r-in"><span>    <span class="st">"footer"</span>,</span></span>
<span class="r-in"><span>    <span class="st">"nav"</span></span></span>
<span class="r-in"><span>  <span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">)</span> <span class="op">|&gt;</span> <span class="fu">cat_head</span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> # Using Python – Quarto</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ## Overview</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Quarto supports executable Python code blocks within markdown. This allows you to create fully reproducible documents and reports—the Python code required to produce your output is part of the document itself, and is automatically re-run whenever the document is rendered.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> If you have Python and the `jupyter` package installed then you have all you need to render documents that contain embedded Python code (if you don’t, we’ll cover this in the [installation](#installation) section below). Next, we’ll cover the basics of creating and rendering documents with Python code blocks.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ### Code Blocks</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## Convert PDF</span></span></span>
<span class="r-in"><span><span class="va">pdf</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/file.path.html" class="external-link">file.path</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/Rhome.html" class="external-link">R.home</a></span><span class="op">(</span><span class="st">"doc"</span><span class="op">)</span>, <span class="st">"NEWS.pdf"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">read_as_markdown</span><span class="op">(</span><span class="va">pdf</span><span class="op">)</span> <span class="op">|&gt;</span> <span class="fu">cat_head</span><span class="op">(</span><span class="fl">15</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> NEWS for R version 4.5.1 (2025-06-13)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> NEWS</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> R News</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> CHANGES IN R 4.5.1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> NEW FEATURES:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) The internal method of unzip() now follows unzip 6.00 in how it handles extracted</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:28)le paths which contain "../". With thanks to Ivan Krylov.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> INSTALLATION:</span>
<span class="r-in"><span><span class="co">## Alternative:</span></span></span>
<span class="r-in"><span><span class="co"># pdftools::pdf_text(pdf) |&gt; cat_head()</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Convert images to markdown descriptions using OpenAI</span></span></span>
<span class="r-in"><span><span class="va">jpg</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/file.path.html" class="external-link">file.path</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/Rhome.html" class="external-link">R.home</a></span><span class="op">(</span><span class="st">"doc"</span><span class="op">)</span>, <span class="st">"html"</span>, <span class="st">"logo.jpg"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/Sys.getenv.html" class="external-link">Sys.getenv</a></span><span class="op">(</span><span class="st">"OPENAI_API_KEY"</span><span class="op">)</span> <span class="op">!=</span> <span class="st">""</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span>  <span class="co"># if (xfun::is_macos()) system("brew install ffmpeg")</span></span></span>
<span class="r-in"><span>  <span class="fu">reticulate</span><span class="fu">::</span><span class="fu"><a href="https://rstudio.github.io/reticulate/reference/py_require.html" class="external-link">py_require</a></span><span class="op">(</span><span class="st">"openai"</span><span class="op">)</span></span></span>
<span class="r-in"><span>  <span class="va">llm_client</span> <span class="op">&lt;-</span> <span class="fu">reticulate</span><span class="fu">::</span><span class="fu"><a href="https://rstudio.github.io/reticulate/reference/import.html" class="external-link">import</a></span><span class="op">(</span><span class="st">"openai"</span><span class="op">)</span><span class="op">$</span><span class="fu">OpenAI</span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-in"><span>  <span class="fu">read_as_markdown</span><span class="op">(</span><span class="va">jpg</span>, llm_client <span class="op">=</span> <span class="va">llm_client</span>, llm_model <span class="op">=</span> <span class="st">"gpt-4.1-mini"</span><span class="op">)</span> <span class="op">|&gt;</span></span></span>
<span class="r-in"><span>    <span class="fu"><a href="https://rdrr.io/r/base/writeLines.html" class="external-link">writeLines</a></span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-in"><span>  <span class="co"># # Description:</span></span></span>
<span class="r-in"><span>  <span class="co"># The image displays the logo of the R programming language. It features a</span></span></span>
<span class="r-in"><span>  <span class="co"># large, stylized capital letter "R" in blue, positioned prominently in the</span></span></span>
<span class="r-in"><span>  <span class="co"># center. Surrounding the "R" is a gray oval shape that is open on the right</span></span></span>
<span class="r-in"><span>  <span class="co"># side, creating a dynamic and modern appearance. The R logo is commonly</span></span></span>
<span class="r-in"><span>  <span class="co"># associated with statistical computing, data analysis, and graphical</span></span></span>
<span class="r-in"><span>  <span class="co"># representation in various scientific and professional fields.</span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Alternative approach to image conversion:</span></span></span>
<span class="r-in"><span><span class="kw">if</span> <span class="op">(</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://rdrr.io/r/base/Sys.getenv.html" class="external-link">Sys.getenv</a></span><span class="op">(</span><span class="st">"OPENAI_API_KEY"</span><span class="op">)</span> <span class="op">!=</span> <span class="st">""</span> <span class="op">&amp;&amp;</span></span></span>
<span class="r-in"><span>    <span class="fu">rlang</span><span class="fu">::</span><span class="fu"><a href="https://rlang.r-lib.org/reference/is_installed.html" class="external-link">is_installed</a></span><span class="op">(</span><span class="st">"ellmer"</span><span class="op">)</span> <span class="op">&amp;&amp;</span></span></span>
<span class="r-in"><span>    <span class="fu">rlang</span><span class="fu">::</span><span class="fu"><a href="https://rlang.r-lib.org/reference/is_installed.html" class="external-link">is_installed</a></span><span class="op">(</span><span class="st">"magick"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span>  <span class="va">chat</span> <span class="op">&lt;-</span> <span class="fu">ellmer</span><span class="fu">::</span><span class="fu"><a href="https://ellmer.tidyverse.org/reference/chat_openai.html" class="external-link">chat_openai</a></span><span class="op">(</span>echo <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-in"><span>  <span class="va">chat</span><span class="op">$</span><span class="fu">chat</span><span class="op">(</span><span class="st">"Describe this image"</span>, <span class="fu">ellmer</span><span class="fu">::</span><span class="fu"><a href="https://ellmer.tidyverse.org/reference/content_image_url.html" class="external-link">content_image_file</a></span><span class="op">(</span><span class="va">jpg</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
<span class="r-in"><span><span class="co"># }</span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


   </div>
  <footer><div class="container">
  <div class="pkgdown-footer-left">
  <p>Developed by Tomasz Kalinowski, Daniel Falbel, <a href="https://www.posit.co" class="external-link"><img src="https://www.tidyverse.org/posit-logo.svg" alt="Posit" height="16" width="62" style="margin-bottom: 3px;"></a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

  </div></footer></body></html>

