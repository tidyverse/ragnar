% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/markdown-chunk.R
\name{markdown_chunk}
\alias{markdown_chunk}
\title{Chunk a Markdown document}
\usage{
markdown_chunk(
  md,
  target_size = 1600L,
  target_overlap = 0.5,
  ...,
  max_snap_dist = target_size * (1 - target_overlap)/3,
  headings = TRUE,
  pre_segment_heading_levels = integer(),
  text = TRUE
)
}
\arguments{
\item{md}{A length-one character vector containing Markdown.}

\item{target_size}{Integer. Target chunk size in characters. Default: \code{1600}
(â‰ˆ 400 tokens, or 1 page of text).}

\item{target_overlap}{Numeric in \verb{[0, 1)}. Fraction of desired overlap
between successive chunks. Default: \code{0.5}. Even when \code{0}, some overlap can
occur because the last chunk is anchored to the document end.}

\item{...}{Must be empty.}

\item{max_snap_dist}{Integer. Furthest distance (in characters) a cut point
may move to reach a boundary. Defaults to one third of the stride size
between target chunk starts. Chunks that end up on identical boundaries are
merged.}

\item{headings}{Logical. Add a \code{headings} column containing the Markdown
headings in scope at each chunk start. Default: \code{TRUE}.}

\item{pre_segment_heading_levels}{Integer vector with possible values \code{1:6}.
Headings at these levels are treated as hard segment breaks before
chunking. Default: disabled.}

\item{text}{Logical. If \code{TRUE}, include a \code{text} column with the chunk
contents. Default: \code{TRUE}.}
}
\value{
A tibble with at least:
\itemize{
\item \code{start}: 1-based start position of the chunk in \code{md}.
\item \code{end}:  inclusive end position.
}

Additional \code{headings} and/or \code{text} columns are present when requested.
}
\description{
\code{markdown_chunk()} splits a single Markdown string into fixed-length,
optionally overlapping chunks while nudging cut points to the nearest
sensible boundary (heading, paragraph, sentence, line, word, or character).
It returns a tibble recording the character ranges of each chunk and, if
requested, the heading context and the text itself.
}
\examples{
md <- "
# Title

## Section 1

Some text that is long enough to be chunked.

A second paragraph to make the text even longer.

## Section 2

More text here.

### Section 2.1

Some text under a level three heading.

#### Section 2.1.1

Some text under a level four heading.

## Section 3

Even more text here.
"

markdown_chunk(md, target_size = 40)
markdown_chunk(md, target_size = 40, target_overlap = 0)
markdown_chunk(md, target_size = 400, pre_segment_heading_levels = c(1, 2))
markdown_chunk(md, target_size = 40, max_snap_dist = 100)
}
